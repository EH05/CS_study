# 20240401 3차 DB 스터디

질문자 : 최다환

답변자 : 이강현, 오유진, 최은혜

범위 : [데이터베이스 개론 3판 : 김연희 저]
<br>
ch3 데이터베이스 시스템, ch4 데이터베이스 모델링

---

### Q1. 릴레이션 스키마, 릴레이션 인스턴스, 데이터베이스 스키마, 데이터베이스 인스턴스에 대해서 설명해주세요.

강현 : 일단 릴레이션은 테이블 하나로 이루어져 있습니다. 릴레이션 스키마는 그 테이블 하나의 속성들에 대해 정의를 해놓은 것이고, 릴레이션 인스턴스들은 그러한 속성들을 갖는 투플들을 의미합니다. 데이터베이스 스키마는 그러한 릴레이션의 스키마들을 모아놓은 것이고 데이터베이스 인스턴스는 그러한 릴레이션의 속성들을 모아놓은 것입니다.

유진 : 하나의 데이터를 2차원 테이블에 저장한 것을 릴레이션이라고 합니다. 우선, 릴레이션 스키마 같은 경우는 컬렴 명입니다. 릴레이션의 첫 번째 행의 컬럼 명들의 집합을 릴레이션 스키마라고 합니다. 릴레이션 인스턴스는 그런 컬럼 즉, 속성에 대한 값들의 집합입니다. 마지막으로 데이터베이스 스키마는 데이터베이스의 어떠한 값들에 대한 제약 조건을 정의한 것입니다.데이터베이스 인스턴스는 데이터베이스의 투플입니다. 

은혜 : 릴레이션은 한 객체에 대한 데이터들을 2차원 구조로 담은 데이터의 집합입니다. 릴레이션 스키마는 속성을 의미합니다. 예를 들어, 직업, 나이, 이름 같은 데이터를 특정 지을 수 있는 것을 말합니다. 릴레이션 인스턴스는 속성에 대응되는 데이터들의 값, 예를 들어, 나이 26세, 27세 등이 있습니다. 데이터베이스는 릴레이션으로 이루어져 있는데, 데이터베이스 스키마는 데이터베이스를 구성하는 속성들의 모음이며, 데이터베이스 인스턴스는 그들을 이루는 집합입니다.

> Sol : 릴레이션 스키마는 릴레이션의 이름과 릴레이션에 포함된 모든 속성의 이름으로 정의하는 릴레이션의 논리적 구조를 말하고, 릴레이션 인스턴스는 어느 한 시점에 릴레이션에 존재하는 투플들의 집합을 말합니다. 데이터베이스 스키마는 이러한 릴레이션 스키마의 집합, 데이터베이스 인스턴스는 릴레이션 인스턴스의 집합을 말합니다.

<br>
<br>
<br>

### Q2. 릴레이션이 인정받기 위한 조건 네 가지를 설명해주세요.

강현 : 릴레이션의 무결성을 유지하기 위한 네 가지 방법으로는 투플의 순서는 중요하지 않다는 투플의 무순서성과 투플에는 중복된 것이 들어오면 안된다는 투플의 유일성, 속성은 순서가 중요하지 않다는 속성의 무순서성, 속성에는 더 이상 분해되지 않는 값이 들어가야 한다는 속성의 원자성이 있습니다.

유진 : 릴레이션을 무결성 있게 유지하는 방법은 네 가지가 있습니다. 첫 번째는 투플의 무순서성입니다. 이는 투플의 순서는 중요하지 않다는 것을 말합니다. 두 번째, 속성의 무순서성입니다. 속성의 순서는 중요하지 않다는 것을 말합니다. 세번째로는 속성의 원자성입니다. 속성은 분해할 수 없는 값으로 이루어져야 함을 뜻합니다. 마지막으로는 투플의 유일성입니다. 이는 투플은 중복되지 않고 유일해야 함을 의미합니다.

은혜 : 릴레이션으로 인정받기 위해서는 네 가지의 조건이 필요합니다. 릴레이션은 속성과 투플로 이루어집니다. 릴레이션이 이루어지기 위해서는 속성의 무순서성 투플의 무순서성, 속성의 원자성, 투플의 유일성이 있어야 릴레이션이 성립될 수 있습니다.

> Sol : 릴레이션이 인정받기 위한 조건으로는 투플의 유일성, 투플의 무순서성, 속성의 무순서성, 속성의 원자성이 있습니다. 투플의 유일성은 하나의 릴레이션에는 동일한 투플이 존재할 수 없음을 의미합니다. 투플의 무순서성은 릴레이션 내에서 투플의 순서는 무의미함을, 속성의 무순서성은 릴레이션 내에서 속성의 순서는 무의미함을 나타냅니다. 마지막으로, 속성의 원자성은 속성 값으로 원자 값만 이용할 수 있음을 말합니다.

<br>
<br>
<br>

### Q3. 투풀을 구별해주는 역할을 하는 키의 종류에 대해서 설명해주세요.

강현 : 릴레이션에서 투플의 유일성을 파악하기 위해 사용되는 기본키, 다른 릴레이션에서 유일한 값인 기본키를 받아와 릴레이션 간의 관계를 표현하는 외래키가 있습니다. 유일성을 갖고 있는 슈퍼키, 유일성과 최소성을 갖고 있는 후보키가 있습니다.

유진 : 먼저 릴레이션에서 키의 종류는 다섯가지가 있습니다. 제일 중요한 기본키와 외래키, 슈퍼키, 후보키, 대체키로 이루어집니다. 먼저, 기본키는 식별이 가능하고 널값이 없어야 하는 가장 중요한 키입니다. 이러한 기본키가 되기 위해서는 유일성과 최소성을 만족해야 합니다. 이를 만족하는 키를 후보키라고 합니다. 이런 후보키 중에서 기본키가 선택될 수 있는데, 선택되지 못한 후보키를 대체키라고 합니다. 슈퍼키는 유일성을 만족하지만 최소성을 만족하지 못하기 때문에 후보키가 될 수 없는 키입니다. 마지막으로 외래키는 다른 테이블에 있는 기본키를 참조하여 도메인을 똑같이 이용할 때 외래키를 사용하여 두 테이블 간의 관계를 명확히 할 수 있습니다.

은혜 : 릴레이션을 구성하기 위해서는 투플의 유일성이 성립되어야 합니다. 투플의 유일성을 이룰 수 있도록 하는 것이 키입니다. 기본키는 유일성과 최소성을 만족해야 합니다. 슈퍼키는 유일성을 만족하는 키이고, 후보키는 유일성과 최소성을 만족하는 키입니다. 이 후보키 중에서 해당 릴레이션의 유일한 속성을 판단할 수 있게 하는 키가 기본키가 됩니다. 기본키는 널 값이 올 수 없습니다. 또한 후보키 중에서 기본키가 아니지만 기본키가 될 수 있는 키들을 대체키라고 합니다. 마지막으로 기본키를 다른 릴레이션에서 참조하는 것을 외래키라고 합니다.

> Sol : 키의 종류로는 슈퍼키, 후보키, 기본키, 대체키, 외래키 다섯 가지가 있습니다. 먼저, 슈퍼키는 유일성의 특성을 만족하는 속성 또는 속성들의 집합입니다. 거기에 최소성을 만족한다면 그 키는 후보키가 될 수 있습니다. 이러한 후보키 중 기본적으로 사용할 키를 선택한 것이 기본키입니다. 기본키는 널 값을 가질 수 없고, 값이 자주 변경되지 않는 키를 선택하는 것이 좋습니다. 대체키는 여러 후보키 중 기본키를 제외한 후보키이고, 외래키는 어떤 릴레이션에 소속된 속성이 다른 릴레이션의 기본키가 되는 키를 말합니다.

<br>
<br>
<br>

### Q4. 참조 무결성 제약 조건 위반 여부 검사가 필요한 작업을 말씀해주세요.

강현 : 먼저, 기본키를 갖고 있으며 참조되는 테이블을 A, A 테이블의 기본키를 참조하는 테이블을 B라고 했을 때, A 테이블의 기본키를 수정/삭제 할 때 B 테이블에서 참조하는 키에 영향이 있는지 확인이 필요합니다. B 테이블에 데이터를 수정하거나 새로운 값을 추가할 때 A 테이블에 존재하는 값인지 확인해야 합니다.

유진 : 예를 들어 참조하는 테이블과 참조되는 테이블이 있을 때, 참조되는 테이블의 기본키를 삭제할 때는 검사가 필요합니다. 두 번째로 참조되는 기본키를 수정할 때도 이러한 검사가 필요합니다. 또한, 참조하는 테이블에서 외래키 값을 추가할 때도 기본키에 있는 값에 들어있는지를 검사해아합니다. 마지막으로, 외래키를 갖고 있는 테이블에서 값을 추가하거나 수정할 때도 참조 무결성이 위배가 되는지 확인해야 합니다.

은혜 : 참조하는 릴레이션과 참조되는 릴레이션이 있을 때, 참조하는 릴레이션에 새로운 값이 추가되거나, 참조되는 릴레이션에 존재하는 데이터를 삭제할 때, 기본키에 있는 값으로 외래키를 참조하는지, 외래키에 있는 값을 삭제하는지에 대한 여부를 검사해야합니다.

> Sol : 참조 무결성 제약 조건 위반 여부를 확인해야하는 작업은 네 가지가 있습니다. 기본키를 가진 참조되는 릴레이션에 존재하는 투플을 삭제하는 경우와 기본키 속성 값을 변경하는 경우 그리고, 외래키를 가진 참조하는 릴레이션에 새로운 투플을 삽입하는 경우와 외래키 속성 값을 변경하는 경우입니다.

<br>
<br>
<br>

### Q5. 관계 대수와 관계 해석의 필요성을 설명해주세요.

강현 : 관계 대수는 절차적인 언어, 관계 해석은 비절차적인 언어입니다. 관계 대수와 관계 해석을 통해 데이터 언어의 유효성을 검사할 수 있습니다.

유진 : 관계 대수와 관계 해석의 필요성에 대해 설명하기 전에 관계 대수와 관계 해석에 대한 정의를 먼저 하겠습니다. 관계 대수는 원하는 결과를 얻기 위한 절차적인 릴레이션 처리 과정이고, 관계 해석은 원하는 데이터를 얻기 위한 비절차적인 릴레이션 처리과정입니다. 따라서 관계 대수와 관계 해석을 통해 데이터를 얻기 위한 처리 과정을 데이터 언어로 표현할 수 있어야 하고, 처리 과정 뿐 아니라 결과 또한, 데이터 언어로 표현할 수 있어야 하기 때문에 필요하다고 생각합니다.

은혜 : 새로운 데이터 언어가 제안되었을 때, 관계 대수나 관계 해석에서 나오는 질의가 모두 성립되어야 그 데이터 언어를 사용할 수 있게 됩니다. 즉, 관계 대수와 관계 해석은 새롭게 제안된 데이터 언어를 사용할 수 있는지를 확인하기 위해 존재합니다.

> Sol : 관계 대수와 관계 해석은 새로운 데이터 언어를 검증할 때 사용합니다. 관계 대수와 관계 해석으로 기술할 수 있는 모든 질의를 새로 제안된 데이터 언어로 기술할 수 있으면 관계적으로 완전하다고 하고 어느 정도 검증되었다고 판단합니다.

<br>
<br>
<br>

### Q6. 일반 집합 연산자인 합집합, 교집합, 차집합, 카티션 프로덕트를 간단히 설명하고, 일반 집합 연산자의 제약조건을 설명해주세요.

강현 : 합집합으로는 두 릴레이션에 존재하는 모든 데이터를 합해서 보여주는 릴레이션이며, 교집합은 두 릴레이션 중 겹치는 데이터가 있을 때 그것에 대한 릴레이션을 반환해서 보여줍니다. 차집합은 두 릴레이션에서 겹치는 부분을 뺀 릴레이션 값을 보여주며, 파티션 프로덕트는 두 릴레이션에 존재하는 값 중 모든 경우의 수를 릴레이션에 담아 반환해 보여줍니다. 일반 집합 연산자의 제약조건은 두 릴레이션의 속성의 개수가 같아야 하며, 속성의 도메인 즉, 자료형이 같아야 한다는 제약조건이 있습니다.

유진 : 합집한은 두 릴레이션의 모든 데이터 값을 추출하는데 사용되고, 교집합은 두 릴레이션의 공통된 데이터 값을 추출할 때 사용합니다. 차집합은 A-B 라면 A 릴레이션이 갖고 있는 데이터 중에 B 릴레이션이 갖고 있는 속성을 뺀 값을 뽑을 때 사용합니다. 카티션 프로덕트는 두 릴레이션의 곱을 의미하며 나올 수 있는 모든 가지 수를 의미합니다. 이러한 일반 집합 연산자에 대한 제약 조건은 NULL 값이 있을 때 연산을 처리해서는 안된다는 것입니다. 모든 값이 NULL 값으로 바뀔 수 있기 때문에 값이 NULL인지에 대한 여부를 확인해야합니다.

은혜 : 일반 집합 연산자는 두 개 이상의 릴레이션을 비교할 때 사용하는 것입니다. 먼저 합집합은 이 두 릴레이션의 모든 것을 나타내는 릴레이션을 반환하는 연산자이고, 교집합은 이 두 릴레이션 중 겹치는 것만을 나타내는 릴레이션을 반환하는 연산자입니다. 차집합은 A 릴레이션에서 B 릴레이션의 속성을 제거한 것을 말합니다. 카티션 프로덕트는 A 릴레이션과 B 릴레이션의 모든 속성을 합친 것을 말합니다. 연산 시에 피연산자가 2개 필요하다는 제약 조건이 있습니다.

> Sol : 합집합은 두 릴레이션에 속하는 모든 투플로 릴레이션을 구성합니다. 차수는 피연산자 릴레이션의 차수와 같고, 카디널리티는 두 릴레이션의 카디널리티의 합보다 작거나 같습니다. 교집합은 두 릴레이션에 공통으로 속하는 투플로 결과 릴레이션을 구성합니다. 차수는 합집합의 경우와 같고, 카디널리티는 두 릴레이션의 어떤 카디널리티보다 크지 않습니다. 차집합은 R-S의 경우 R에는 존재하지만 S에는 존재하지 않는 투플들로 릴레이션을 구성합니다. 차수는 앞의 연산자와 같고, 카디널리티는 R 또는 S의 카디널리티와 같거나 적습니다. 카티션 프로덕트는 두 릴레이션에 각 투플을 모두 연결하여 만들어진 새로운 투플로 릴레이션을 구성합니다. 차수는 두 릴레이션의 합, 카디널리티는 두 릴레이션의 곱입니다.<br>
일반 집합 연산자는 피연산자가 2개 필요하고, 카디널리티를 제외한 연산자들은 두 릴레이션이 합병 가능해야 사용 할 수 있습니다.

<br>
<br>
<br>

### Q7. 순수 관계 연산자 중 셀렉트, 프로덕트, 디비전 세 개 중 하나를 골라 설명해주세요.

강현 : 프로젝트에 대해 설명하겠습니다. 프로젝트 연산을 통해 릴레이션에서 원하는 속성값을 선택해 그 릴레이션에서 그 속성만 보여주는 릴레이션을 반환해 조회할 수 있습니다.

유진 : 저는 셀렉트에 대해서 설명하겠습니다. 셀렉트는 시그마 모양의 연산자를 사용하며 조건을 설정하여 원하는 결과를 추출해낼 수 있습니다.

은혜 : 셀렉트에 대해서 설명하겠습니다. 셀렉트는 시그마 기호, 조건, 추출하고자 하는 릴레이션의 명을 사용하여 표현합니다. 예를 들어, 시그마 기호, age=17, 학생을 작성하게 되면 17세의 나이를 가진 모든 학생들의 정보가 나타납니다.

> Sol : 셀렉트는 주어진 조건을 만족하는 투플만 선택하여 릴레이션을 구성합니다. 시그마 기호를 이용하여 표현하고, 비교 연산자와 논리 연산자를 사용하여 조건식을 구성합니다. 프로젝트는 릴레이션에서 선택한 속성에 해당하는 값으로 릴레이션을 구성합니다. 릴레이션에도 동일한 투플이 중복되지 않고 한 번만 나타나는 릴레이션의 특징을 그대로 갖고 있습니다. 디비전은 R % S 연산 시, S의 모든 투플과 관련 있는 릴레이션 R의 투플로 릴레이션을 구성합니다. 릴레이션 S의 모든 속성과 도메인이 같은 속성을 릴레이션 R이 가지고 있어야 합니다.

<br>
<br>
<br>

### Q8. 조인 연산 중 두 가지를 선택해 설명해주세요.

강현 : 조인은 크게 내부 조인과 외부 조인으로 나눌 수 있습니다. 내부 조인은 두 릴레이션 중에 공통된 값을 갖고 있는 투풀을 반환해 보여주는 것이고 외부 조인은 두 릴레이션을 모두 합쳐 모든 데이터를 보여주는 조인 방법입니다.

유진 : 조인은 크게 공통된 투플만 추출하는 내부 조인, 모든 데이터를 추출하는 조인으로 나눌 수 있습니다. 중복된 값을 허용하지 않는 것을 자연 조인이라고 합니다. 외부 조인은 LEFT OUTER JOIN, RIGHT OUTER JOIN이 있습니다. 외부 조인의 기호는 나비넥타이 모양으로 LEFT OUTER JOIN의 경우 왼쪽 삼각형 길이를 늘인 모양입니다. 예를 들어, A LEFT OUTER JOIN B라고 하면, A 릴레이션 기준으로 A에 없는 B의 튜플들을 추출해서 나타내는 방식으로 설명됩니다.

은혜 : 조인은 두 가지 이상의 릴레이션을 조합하여 나타내는 연산입니다. 조인에는 외부 조인과 내부 조인이 있습니다. 내부 조인은 두 릴레이션의 공통된 속성만을 가져오는 것을 말합니다. 외부 조인은 경우에 따라 A 릴레이션에 포함된 속성을 B 릴레이션에서 얻어와 표현합니다. 이는 반대의 경우도 가능합니다.

> Sol : 조인에는 세타 조인, 세미 조인, 외부 조인이 있습니다. 세타 조인은 주어진 조인 조건을 만족하는 두 릴레이션의 모든 투플을 연결한 새로운 투플로 릴레이션을 구성합니다. 세타는 비교 연산자를 사용하며 세타가 = 인 세타 조건이 일반적으로 말하는 동등 조인입니다. 그 중 자연 조인은 동등 조인에서 조인 속성이 중복되지 않고 한번만 표현하는 조인을 말합니다. 세미 조인은 릴레이션 S의 조인 속성으로만 구성한 릴레이션을 릴레이션 R에 자연 조인하는 것을 말합니다. 이를 사용하면 검색에 불필요한 속성을 미리 제거하여 조인 연산의 비용을 줄일 수 있습니다. 마지막으로 외부 조인은 조인 속성 값이 같은 투플이 상대 릴레이션에 존재하지 않아 조인 연산에서 제외된 모든 투플을 결과 릴레이션에 포함하는 조인입니다. 방향에 따라 방향에 있는 릴레이션의 모든 투플을 결과 릴레이션에 포함시킵니다.