# 20240408 5차 DB 스터디

질문자 : 오유진

답변자 : 이강현, 최다환, 최은혜

범위 : [데이터베이스 개론 3판: 김연희 저] 
<br>
ch8 데이터베이스 설계, ch9 정규화

---
## 8단원
### Q1. 데이터베이스 설계에 관한 개인 질문
1-1.	데이터베이스 설계 단계 다섯가지에 대해 설명해주세요
다환: 데이터베이스 설계 단계 5단계는 요구사항 분석 그리고 개념적 설계 그리고 논리적 설계, 물리적 설계 구현으로 이루어져 있습니다.
> Sol) 데이터베이스 설계 단계: 요구사항 분석-> 개념적 설계-> 논리적 설계-> 물리적 설계->구현

1-2. 관계 데이터 모델을 기반으로 두고 데이터베이스를 설계할 때 두가지 방법을 주로 사용하는데 
은혜: 첫 번째는 정규화를 사용해서 데이터베이스 설계하는 방식이 있고 두 번째는 ER 다이어그램과 또는 릴레이션 변환 규칙을 사용하여 데이터베이스 설계를 하는 방법이 있습니다.
> Sol) 1. E-R 모델과 릴레이션 변환규칙을 이용한 데이터베이스 설계

1-3. 데이터 모델링( 논리적 모델링) 이란?
강현: 현실 세계에 존재하는 데이터를 데이터베이스에 저장하기 위해 변환하는 것 
> Sol) 논리적 설계 단계에서 E-R다이어그램을 릴레이션 스키마로 변환하는 작업을 논리적 모델링이라고 합니다. 


### Q2. 릴레이션 스키마 변환 규칙 5가지를 설명해주세요
은혜: 첫 번째, 모든 객체는 릴레이션으로 변환합니다. 두 번째 다대다 관계는 릴레이션으로 변환하고 일대다와 일대일 관계는 외래키로 변환합니다.
마지막으로 다중 값 속성은 릴레이션으로 변환한다.

다환: 첫 번째, 우선 모든 객체는 릴레이션으로 변환합니다.두 번째, 다대 다 관계는 릴레이션은 변환합니다. 세 번째 1 대 1 관계와 일대다 관계는 외래키로 변환합니다.
그리고 다중 속성은 릴레이션으로 변환하는데 이게 항상 지켜져야 하는 규칙인 것은 맞지만 1 대 1과 1 대 다 관계도 사실 릴레이션으로 변환될 수 있습니다.
일대일 관계를 일대일 관계를 릴레이션으로 변환할 때는 다대다 관계랑 똑같이 변화를 하는데 이것이 꼭 속성이 많거나 하는 경우가 아니라면 릴레이션이 많아질수록 dbms가 갖는 부담이 많아지기 때문에 지향하는 것이 좋습니다.

강현: 첫 번째 모든 객체는 릴레이션을 변환합니다. 모든 다대다 관계는 릴레이션으로 변환하고 일대다와 일대일 관계는 외래키로 변환합니다. 

> Sol)
규칙 1 : 모든 개체는 릴레이션으로 변환한다. 
규칙 2 : 다대다(n:m) 관계는 릴레이션으로 변환한다. 
규칙 3 : 일대다(1:n) 관계는 외래키로 표현한다.
규칙 4 : 일대일(1:1) 관계는 외래키로 표현한다. 
규칙 5 : 다중 값 속성은 릴레이션으로 변환한다.

---
## 9단원
### Q3. 이상 현상 종류는 3가지가 있는데요, 3가지 종류에 대해서 설명하고 한가지 씩 설명해주세요 (겹치지않게)
은혜: 불필요한 데이터가 중복되어서 나타나는 현상을 이상 현상이라고 합니다. 
갱신 이상은 중복된 투플 중 하나만 갱신이되고 나머지 하나가 갱신이 되지 않아 데이터의 무결성을 보장할 수 없는 경우를 말합니다.

다환: 이상 현상은 데이터 중복이나 관계없는 데이터가 릴레이션에 존재하여 발생하는 문제를 말하는데 그중에 삽입 이상을 말씀드리겠습니다.
삽입 이상이란 데이터를 삽입할 때 불필요한 데이터를 삽입하여야만하는데, 이 데이터를 투플로 삽입할 때 발생하는 문제입니다.

강현: 삭제하고자 하는 데이터를 삭제할 때 필요한 데이터도 함께 삭제되는 것이 삭제 이상입니다.

> Sol) 이상현상 종류에는 삽입이상, 갱신이상 ,삭제이상이 있다. 
삽입이상: 새 데이터를 삽입하기 위해 불필요한 데이터도 함께 삽입해야하는 문제
갱신이상: 중복 투플 중 일부만 변경하여 데이터가 불일치하게 되는 모순의 문제
삭제이상: 투플을 삭제하면 꼭 필요한 데이터까지 함께 삭제되는 데이터 손실의 문제


### Q4. 정규화에 대해서 설명하시오
은혜: 정규화는 이상 현상을 없애기 위해 데이터의 중복을 최소화하는 데이터의 중복을 없애는 과정입니다. 정규화는 정규의 차수가 높아질수록 더욱더 규칙이 많아지기 때문에, 중복이 없는 릴레이션이라고 할 수 있습니다.

다환: 릴레이션 내에 데이터 중복을 최소화하기 위해 릴레이션을 분해하는 과정을 정규화라고 합니다. 정규화는 일반 정규화와 고급 정규화로 나뉘는데요. 
일반 정규화에는 제1 정규화, 제2 정규화, 제3 정규화 그리고 보이스 코드 정규화가 있고 고급 정규화에는 제4 정규화와 제5 정규화가 있습니다.

강현: 데이터 무결성을 위한 규칙으로 릴레이션을 쪼개가며 규칙을 만족 시키는 과정입니다.

> Sol) 삽입/갱신/삭제 이상 등 이상현상이 발생하지 않도록 하려면, 관련있는 속성들로만 릴레이션을 구성해야하는데 이를 위해 필요한 것이 정규화다. 정규화는 이상현상이 발생하지 않도록, 릴레이션을 관련이 있는 속성들로만 구성하기 위해 릴레이션을 분해하는 과정이다. 


### Q5. 정규화 과정에서 릴레이션을 분해할 때 주의할점
은혜: 정규화할 때 주의해야 할 점은 이 분해된 릴레이션을 자연 조인으로 합했을 때 이전과 똑같은 릴레이션이어야 합니다.
즉 손실된 데이터가 없어야지만 이가 가능한데 이를 무손실 분해라고 합니다.

다환: 릴레이션을 분해할 때는 무손실 분해를 해야 합니다. 무손실 분해랑 동등한 조건, 동등한 속성으로 릴레이션을 분해를 해야 되고 분해하는 과정에서 데이터 손실이 있으면 안 되기 때문에 무손실 분해를 해야 합니다.

강현: 릴레이션을 나눌 때 데이터가 손실되는 것을 방지해야 합니다.
> Sol)분해된 릴레이션들을 자연조인하여 분해 전의 릴레이션으로 다시 복원할 수 있어야한다. 즉 정규화 과정에서 수행되는 릴레이션의 분해는 무손실 분해여야 한다. 

### Q6. 정규화 과정 7단계에 대한 개인 질문
6-1. 제2정규형에 대해 설명하시오
은혜: 부분함수 종속 제거를 한 것이 제 2 정규형입니다. 모든 속성이 완전 함수 종속이 되어야합니다.
> Sol) 릴레이션이 제 1 정규형에 속하고 기본키가 아닌 모든 속성이 기본키에 완전 함수 종속되어있다.

6-2.	제 3정규형 릴레이션에서 무엇을 제거하면 보이스/코드 정규형이 될까요?
강현: 제 3 정규형에서 보이스/코드 정규형이 되려면 모든 결정자가 후보키여야합니다. 
> Sol) 후보키가 아닌 결정자를 제거

6-3.	제 1 정규형 릴레이션에 대해서 설명하시오
다환: 속성에 대한 도메인 값이 원자 값을 가지는 것을 말합니다. 따라서 릴레이션의 셀 값에 중복된 값이 들어가 있지 않게 하는 것을 말합니다.
> Sol) 릴레이션에 속한 모든 속성의 도메인이 원자 값으로만 구성되어 있다. 

### Q7. 완전 함수 종속과 부분함수 종속에 대해서 설명해보시오
은혜: 함수 종속은 x와 y가 있을 때 이제 x는 결정자, y를 종속자라고 하는데 이제 y가 x에 종속된다고 표현합니다. 이때 속성 집합 y가 속성 집합 x 모두에 종속되는 것을 완전 함수 종속이라고 하고 x 속성 집합 일부에 종속되는 것을 부분 함수 종속이라고 합니다. 이때 x는 단위 속성이 아니라 다중 속성이야 합니다.

다환: 먼저 함수 종속이란 x에 대한 값이 y값 하나일 때, y가 x에 종속된다라고 말할 수 있습니다. 그중에서 x의 속성값이 여러 개로 이루어져 있을 때 x의 속성 집합에 y 속성 집합이 포함이 되는데 종속 단계가 x의 속성 일부가 아니라 x의 속성 집합 전체에 종속되는 것을 완전함수종속이라고 합니다.
x 집합의 부분에 y가 종속되는 경우를 부분 함수 중속 이라고합니다.

강현: x의 모든 것들에 대해 y가 종속되어 있을 때 완전 함수 종속이라하고 x에 부분적으로 y가 종속되어 있을 때 부분 함수 종속이라 합니다.

> Sol) 하나의 릴레이션을 구성하는 속성들의 부분 집합을 X와 Y라 할 때, 어느 시점에서든 릴레이션 내의 모든 튜플에서 하나의 X 값에 대한 Y 값이 항상 하나면 "Y가 X에 함수적으로 종속되어 있다"라고 한다.
함수 종속 관계는 X→Y로 표현하고 X를 결정자, Y를 종속자라고 한다.완전 함수 종속은 릴레이션에서 속성 집합 Y가 속성집합 X에 함수적으로 종속되어 있지만, 속성집합 X전체에 종속된 것이지 일부분에 종속된 것이 아님을 의미한다. 이와 반대로 부분함수 종속은 속성집합 Y가 속성 집합 X의 전체가 아닌 일부분에도 함수적으로 종속됨을 의미한다.

